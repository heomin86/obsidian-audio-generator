/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
If you want to view the source, please visit the GitHub repository.
*/

var I=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var q=Object.prototype.hasOwnProperty;var M=(r,e)=>{for(var t in e)I(r,t,{get:e[t],enumerable:!0})},B=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of V(e))!q.call(r,s)&&s!==t&&I(r,s,{get:()=>e[s],enumerable:!(i=D(e,s))||i.enumerable});return r};var J=r=>B(I({},"__esModule",{value:!0}),r);var j={};M(j,{default:()=>x});module.exports=J(j);var u=require("obsidian");var _={ai:{activeProvider:"xai",providers:{xai:{apiKey:"",model:"grok-4-1-fast-reasoning",enabled:!0},openai:{apiKey:"",model:"gpt-4o-mini",enabled:!1},anthropic:{apiKey:"",model:"claude-sonnet-4",enabled:!1},gemini:{apiKey:"",model:"gemini-2.5-flash",enabled:!1}}},elevenlabs:{apiKey:"",voiceId:"4JJwo477JUAx3HV0T7n7",model:"eleven_turbo_v2_5",outputFormat:"mp3_44100_192"},enableSummarization:!0,summarizationThreshold:2e3},T=[{id:"xai",label:"xAI (Grok)",description:"Fast reasoning with Grok models",defaultModel:"grok-4-1-fast-reasoning",models:["grok-4-1-fast-reasoning","grok-4-1-fast","grok-3-mini-fast-reasoning"],docsUrl:"https://console.x.ai",placeholderKey:"xai-..."},{id:"openai",label:"OpenAI",description:"GPT-4o and GPT-4o-mini models",defaultModel:"gpt-4o-mini",models:["gpt-4o","gpt-4o-mini","gpt-4-turbo"],docsUrl:"https://platform.openai.com/api-keys",placeholderKey:"sk-..."},{id:"anthropic",label:"Anthropic (Claude)",description:"Claude Sonnet and other models",defaultModel:"claude-sonnet-4",models:["claude-sonnet-4","claude-3-5-sonnet-20241022","claude-3-haiku-20240307"],docsUrl:"https://console.anthropic.com/settings/keys",placeholderKey:"sk-ant-..."},{id:"gemini",label:"Google Gemini",description:"Gemini Flash and Pro models",defaultModel:"gemini-2.5-flash",models:["gemini-2.5-flash","gemini-2.0-flash-exp","gemini-1.5-pro"],docsUrl:"https://aistudio.google.com/app/apikey",placeholderKey:"AIza..."}];var m=require("obsidian");var h=class extends m.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;e.empty(),e.createEl("h1",{text:"Audio Generator Settings"}),e.createEl("h2",{text:"AI Summarization"}),new m.Setting(e).setName("Enable Summarization").setDesc("Automatically summarize long notes before audio generation").addToggle(t=>t.setValue(this.plugin.settings.enableSummarization).onChange(async i=>{this.plugin.settings.enableSummarization=i,await this.plugin.saveSettings()})),new m.Setting(e).setName("Summarization Threshold").setDesc("Word count above which summarization is applied").addText(t=>t.setPlaceholder("2000").setValue(String(this.plugin.settings.summarizationThreshold)).onChange(async i=>{let s=parseInt(i,10);!isNaN(s)&&s>0&&(this.plugin.settings.summarizationThreshold=s,await this.plugin.saveSettings())})),new m.Setting(e).setName("Active AI Provider").setDesc("Select which AI provider to use for summarization").addDropdown(t=>{T.forEach(i=>{t.addOption(i.id,i.label)}),t.setValue(this.plugin.settings.ai.activeProvider).onChange(async i=>{this.plugin.settings.ai.activeProvider=i,await this.plugin.saveSettings(),this.display()})}),e.createEl("h3",{text:"Provider Configuration"}),T.forEach(t=>{let i=this.plugin.settings.ai.activeProvider===t.id,s=this.plugin.settings.ai.providers[t.id],n=e.createDiv({cls:`provider-settings ${i?"active":"inactive"}`});i&&(n.style.backgroundColor="var(--background-secondary)",n.style.padding="10px",n.style.borderRadius="8px",n.style.marginBottom="10px"),n.createEl("h4",{text:`${t.label} ${i?"(Active)":""}`}),new m.Setting(n).setName(`${t.label} API Key`).setDesc(`Get your API key from ${t.docsUrl}`).addText(o=>o.setPlaceholder(t.placeholderKey).setValue(s.apiKey).onChange(async a=>{this.plugin.settings.ai.providers[t.id].apiKey=a,await this.plugin.saveSettings()})).addExtraButton(o=>o.setIcon("external-link").setTooltip("Open API key page").onClick(()=>{window.open(t.docsUrl,"_blank")})),new m.Setting(n).setName(`${t.label} Model`).setDesc("Select or enter model name").addDropdown(o=>{t.models.forEach(a=>{o.addOption(a,a)}),o.setValue(s.model).onChange(async a=>{this.plugin.settings.ai.providers[t.id].model=a,await this.plugin.saveSettings()})})}),e.createEl("h2",{text:"ElevenLabs TTS"}),new m.Setting(e).setName("ElevenLabs API Key").setDesc("Get your API key from https://elevenlabs.io").addText(t=>t.setPlaceholder("Enter your ElevenLabs API key").setValue(this.plugin.settings.elevenlabs.apiKey).onChange(async i=>{this.plugin.settings.elevenlabs.apiKey=i,await this.plugin.saveSettings()})).addExtraButton(t=>t.setIcon("external-link").setTooltip("Open ElevenLabs").onClick(()=>{window.open("https://elevenlabs.io","_blank")})),new m.Setting(e).setName("Voice ID").setDesc("Default: 4JJwo477JUAx3HV0T7n7 (Korean-optimized multilingual)").addText(t=>t.setPlaceholder("4JJwo477JUAx3HV0T7n7").setValue(this.plugin.settings.elevenlabs.voiceId).onChange(async i=>{this.plugin.settings.elevenlabs.voiceId=i||"4JJwo477JUAx3HV0T7n7",await this.plugin.saveSettings()})),new m.Setting(e).setName("TTS Model").setDesc("eleven_turbo_v2_5 (Required for Korean support)").addText(t=>t.setValue(this.plugin.settings.elevenlabs.model).setDisabled(!0)),new m.Setting(e).setName("Output Format").setDesc("mp3_44100_192 (High quality 192kbps)").addText(t=>t.setValue(this.plugin.settings.elevenlabs.outputFormat).setDisabled(!0))}};var S=require("obsidian"),F="https://api.x.ai/v1",y=class{constructor(e,t){this.apiKey=e,this.model=t||"grok-4-1-fast-reasoning"}async generateText(e,t,i=.3){let s={url:`${F}/chat/completions`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.model,messages:[{role:"system",content:t},{role:"user",content:e}],temperature:i,stream:!1})},n=await(0,S.requestUrl)(s);if(n.status!==200)throw new Error(`XAI API Error: ${n.status} - ${n.text}`);let o=n.json;if(!o.choices||o.choices.length===0)throw new Error("No response from XAI API");return o.choices[0].message.content}async validateApiKey(){try{let e={url:`${F}/models`,method:"GET",headers:{Authorization:`Bearer ${this.apiKey}`}};return(await(0,S.requestUrl)(e)).status===200}catch(e){return!1}}};var E=require("obsidian"),N="https://api.openai.com/v1",f=class{constructor(e,t){this.apiKey=e,this.model=t||"gpt-4o-mini"}async generateText(e,t,i=.3){let s={url:`${N}/chat/completions`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.model,messages:[{role:"system",content:t},{role:"user",content:e}],temperature:i,max_tokens:2048})},n=await(0,E.requestUrl)(s);if(n.status!==200)throw new Error(`OpenAI API Error: ${n.status} - ${n.text}`);let o=n.json;if(!o.choices||o.choices.length===0)throw new Error("No response from OpenAI API");return o.choices[0].message.content}async validateApiKey(){try{let e={url:`${N}/models`,method:"GET",headers:{Authorization:`Bearer ${this.apiKey}`}};return(await(0,E.requestUrl)(e)).status===200}catch(e){return!1}}};var U=require("obsidian"),L="https://api.anthropic.com/v1",v=class{constructor(e,t){this.apiKey=e,this.model=t||"claude-sonnet-4"}async generateText(e,t,i=.3){let s={url:`${L}/messages`,method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.model,max_tokens:2048,temperature:i,system:t,messages:[{role:"user",content:e}]})},n=await(0,U.requestUrl)(s);if(n.status!==200)throw new Error(`Anthropic API Error: ${n.status} - ${n.text}`);let o=n.json;if(!o.content||o.content.length===0)throw new Error("No response from Anthropic API");return o.content[0].text}async validateApiKey(){try{return await this.generateText("test","Reply with OK",0),!0}catch(e){return!1}}};var k=require("obsidian"),R="https://generativelanguage.googleapis.com/v1beta",A=class{constructor(e,t){this.apiKey=e,this.model=t||"gemini-2.5-flash"}async generateText(e,t,i=.3){var c,l,d,g;let s={contents:[{role:"user",parts:[{text:e}]}],generationConfig:{temperature:i,maxOutputTokens:2048}};t&&(s.systemInstruction={parts:[{text:t}]});let n={url:`${R}/models/${this.model}:generateContent?key=${this.apiKey}`,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},o=await(0,k.requestUrl)(n);if(o.status!==200)throw new Error(`Gemini API Error: ${o.status} - ${o.text}`);let a=o.json,p=(g=(d=(l=(c=a==null?void 0:a.candidates)==null?void 0:c[0])==null?void 0:l.content)==null?void 0:d.parts)==null?void 0:g.map(b=>(b==null?void 0:b.text)||"").join("").trim();if(!p)throw new Error("No response from Gemini API");return p}async validateApiKey(){try{let e={url:`${R}/models?key=${this.apiKey}`,method:"GET"};return(await(0,k.requestUrl)(e)).status===200}catch(e){return!1}}};function G(r){switch(r.provider){case"xai":return new y(r.apiKey,r.model);case"openai":return new f(r.apiKey,r.model);case"anthropic":return new v(r.apiKey,r.model);case"gemini":return new A(r.apiKey,r.model);default:throw new Error(`Unknown AI provider: ${r.provider}`)}}var w=require("obsidian"),K="https://api.elevenlabs.io/v1",P=class{constructor(e){this.apiKey=e.apiKey,this.voiceId=e.voiceId||"4JJwo477JUAx3HV0T7n7",this.model=e.model||"eleven_turbo_v2_5",this.outputFormat=e.outputFormat||"mp3_44100_192"}async textToSpeech(e,t){let s=t||{stability:.5,similarity_boost:.75,style:0,use_speaker_boost:!0},n={url:`${K}/text-to-speech/${this.voiceId}?output_format=${this.outputFormat}`,method:"POST",headers:{"Content-Type":"application/json","xi-api-key":this.apiKey},body:JSON.stringify({text:e,model_id:this.model,voice_settings:s})},o=await(0,w.requestUrl)(n);if(o.status!==200){let a=o.text||"Unknown error";throw new Error(`ElevenLabs API Error: ${o.status} - ${a}`)}return o.arrayBuffer}async validateApiKey(){try{let e={url:`${K}/user`,method:"GET",headers:{"xi-api-key":this.apiKey}};return(await(0,w.requestUrl)(e)).status===200}catch(e){return!1}}async getVoices(){let e={url:`${K}/voices`,method:"GET",headers:{"xi-api-key":this.apiKey}},t=await(0,w.requestUrl)(e);if(t.status!==200)throw new Error(`Failed to fetch voices: ${t.status}`);return t.json.voices||[]}};function z(r){let e=r;return e=e.replace(/#{1,6}\s+/g,""),e=e.replace(/\*\*(.+?)\*\*/g,"$1"),e=e.replace(/\*(.+?)\*/g,"$1"),e=e.replace(/__(.+?)__/g,"$1"),e=e.replace(/_(.+?)_/g,"$1"),e=e.replace(/```[\s\S]*?```/g," \uCF54\uB4DC \uC608\uC2DC "),e=e.replace(/`([^`]+)`/g,"$1"),e=e.replace(/\[([^\]]+)\]\([^)]+\)/g,"$1"),e=e.replace(/https?:\/\/[^\s]+/g,""),e=e.replace(/www\.[^\s]+/g,""),e=e.replace(/[\w.-]+@[\w.-]+\.\w+/g,""),e=e.replace(/<[^>]+>/g,""),e=e.replace(/^\s*[-*+]\s+/gm,""),e=e.replace(/^\s*\d+\.\s+/gm,""),e=e.replace(/[\[\]{}]/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/\n{2,}/g,`
`),e=e.replace(/!\[\[.*?\]\]/g,""),e=e.replace(/\[\[([^\]|]+)\|?([^\]]*)\]\]/g,"$2$1"),e=e.replace(/^---[\s\S]*?---\n?/g,""),e=e.replace(/[|~^]/g,""),e.trim()}function $(r){let e=(r.match(/[\uAC00-\uD7AF]/g)||[]).length,t=r.replace(/[\uAC00-\uD7AF]/g," ").split(/\s+/).filter(i=>i.length>0).length;return Math.round(e/2)+t}function C(r){let e=/^---\n([\s\S]*?)\n---\n?/,t=r.match(e),i={},s=r;if(t)try{let n=t[1];i=W(n),s=r.slice(t[0].length)}catch(n){console.warn("Failed to parse frontmatter:",n)}return{frontmatter:i,body:s,rawContent:r}}function W(r){let e={},t=r.split(`
`);for(let i of t){let s=i.indexOf(":");if(s>0){let n=i.slice(0,s).trim(),o=i.slice(s+1).trim();if((o.startsWith('"')&&o.endsWith('"')||o.startsWith("'")&&o.endsWith("'"))&&(o=o.slice(1,-1)),o===""){let a=[],p=t.indexOf(i);for(let c=p+1;c<t.length;c++){let l=t[c];if(l.trim().startsWith("- "))a.push(l.trim().slice(2));else if(l.trim()&&!l.startsWith(" "))break}if(a.length>0){e[n]=a;continue}}e[n]=o}}return e}async function O(r,e,t,i){let s=await r.read(e),{rawContent:n}=C(s),o=Math.max(1,Math.round(i/150)),a=`## \u{1F399}\uFE0F \uC624\uB514\uC624 \uBC84\uC804 \uB4E3\uAE30

<audio controls style="width: 100%; margin: 15px 0 20px 0;">
  <source src="${t}" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

**\uC774 \uB178\uD2B8\uC758 \uC694\uC57D\uC744 \uC74C\uC131\uC73C\uB85C \uB4E4\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4** (${i}\uB2E8\uC5B4, \uC57D ${o}\uBD84 \uC18C\uC694)

---

`,p=new Date().toISOString().replace("Z","+09:00"),c;if(n.startsWith("---")){let l=n.indexOf("---",3);if(l>0){let d=n.slice(0,l+3),g=n.slice(l+3).trimStart();d.includes("audio_file:")||(d=d.slice(0,-3)+`audio_file: "${t}"
---`),d.includes("last_modified:")&&(d=d.replace(/last_modified:.*\n/,`last_modified: "${p}"
`)),c=d+`

`+a+g}else c=n+`

`+a}else c=a+n;await r.modify(e,c)}var x=class extends u.Plugin{async onload(){console.log("Loading Audio Generator Plugin"),await this.loadSettings(),this.addSettingTab(new h(this.app,this)),this.addCommand({id:"generate-audio-from-note",name:"Generate audio from current note",editorCallback:async(e,t)=>{t.file&&await this.generateAudioFromNote(t.file)}}),this.registerEvent(this.app.workspace.on("file-menu",(e,t)=>{t.extension==="md"&&e.addItem(i=>{i.setTitle("Generate Audio").setIcon("volume-2").onClick(async()=>{await this.generateAudioFromNote(t)})})})),this.registerEvent(this.app.workspace.on("editor-menu",(e,t,i)=>{e.addItem(s=>{s.setTitle("Generate Audio from Note").setIcon("volume-2").onClick(async()=>{i.file&&await this.generateAudioFromNote(i.file)})})}))}async onunload(){console.log("Unloading Audio Generator Plugin")}async loadSettings(){this.settings=Object.assign({},_,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async generateAudioFromNote(e){if(!e){new u.Notice("No file selected");return}if(!this.validateSettings()){new u.Notice("Please configure API keys in settings");return}try{new u.Notice("Starting audio generation...");let t=await this.app.vault.read(e),{frontmatter:i,body:s}=C(t),n=i.audio_file;if(n&&await this.audioFileExists(n)){new u.Notice("Audio already exists for this note. Skipping generation.");return}let o=$(s),a=i.type,p=o>this.settings.summarizationThreshold||["\uAC00\uC774\uB4DC","\uB9AC\uC18C\uC2A4","\uC720\uD29C\uBE0C\uD559\uC2B5\uB178\uD2B8","\uD68C\uACE0"].includes(a||""),c;p&&this.settings.enableSummarization?(new u.Notice("Generating summary..."),c=await this.summarizeContent(s,a||"\uAE30\uBCF8")):c=s;let l=z(c);if(l.length<50){new u.Notice("Note content is too short to generate audio");return}new u.Notice("Generating audio with ElevenLabs...");let d=await this.generateAudio(l,e),g=$(l);await O(this.app.vault,e,d,g),new u.Notice(`Audio generated successfully: ${d}`)}catch(t){console.error("Audio generation failed:",t),new u.Notice(`Error: ${t instanceof Error?t.message:"Unknown error"}`)}}validateSettings(){let e=this.getActiveAIApiKey()!=="",t=this.settings.elevenlabs.apiKey!=="";return e&&t}getActiveAIApiKey(){var t;let e=this.settings.ai.activeProvider;return((t=this.settings.ai.providers[e])==null?void 0:t.apiKey)||""}async audioFileExists(e){return this.app.vault.getAbstractFileByPath(e)!==null}async summarizeContent(e,t){let i=this.settings.ai.activeProvider,s=this.settings.ai.providers[i],n=G({provider:i,apiKey:s.apiKey,model:s.model}),o=this.getSummarizationPrompt(e,t);return await n.generateText(o.userPrompt,o.systemPrompt)}getSummarizationPrompt(e,t){let i=`You are an expert content summarizer. Create beginner-friendly summaries optimized for audio listening.
Write in Korean using natural spoken language. Remove all markdown formatting, code blocks, and URLs.
Focus on key concepts and practical insights. Target 500-1000 words.`,s;switch(t){case"\uAC00\uC774\uB4DC":case"\uB9AC\uC18C\uC2A4":s=`\uB2E4\uC74C \uAE30\uC220 \uAC00\uC774\uB4DC \uBB38\uC11C\uB97C \uCD08\uBCF4\uC790\uAC00 \uC774\uD574\uD558\uAE30 \uC27D\uB3C4\uB85D 500-1000\uB2E8\uC5B4\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694.
\uC74C\uC131\uC73C\uB85C \uB4E3\uAE30\uC5D0 \uC801\uD569\uD55C \uD615\uD0DC\uB85C \uC791\uC131\uD558\uB418, \uB2E4\uC74C \uC694\uC18C\uB97C \uD3EC\uD568\uD574\uC8FC\uC138\uC694:

1. \uC774 \uAC00\uC774\uB4DC\uAC00 \uB2E4\uB8E8\uB294 \uD575\uC2EC \uAC1C\uB150 \uC124\uBA85
2. \uC8FC\uC694 \uAE30\uB2A5\uC774\uB098 \uB2E8\uACC4\uB97C \uC21C\uC11C\uB300\uB85C \uC124\uBA85
3. \uCD08\uBCF4\uC790\uAC00 \uC54C\uC544\uC57C \uD560 \uC911\uC694\uD55C \uD3EC\uC778\uD2B8 \uAC15\uC870
4. \uC2E4\uC6A9\uC801\uC778 \uD65C\uC6A9 \uC608\uC2DC\uB098 \uD301

\uC8FC\uC758\uC0AC\uD56D:
- \uB9C8\uD06C\uB2E4\uC6B4 \uBB38\uBC95 \uC81C\uAC70 (##, **, - \uB4F1)
- \uCF54\uB4DC \uBE14\uB85D\uC740 "\uCF54\uB4DC \uC608\uC2DC"\uB85C \uAC04\uB2E8\uD788 \uC5B8\uAE09
- \uAD6C\uC5B4\uCCB4\uB85C \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uC791\uC131
- \uAE30\uC220 \uC6A9\uC5B4\uB294 \uD55C\uAD6D\uC5B4\uB85C \uC124\uBA85 \uCD94\uAC00

\uC6D0\uBB38:
${e}`;break;case"\uC720\uD29C\uBE0C\uD559\uC2B5\uB178\uD2B8":s=`\uB2E4\uC74C \uC720\uD29C\uBE0C \uD559\uC2B5 \uB178\uD2B8\uB97C \uCD08\uBCF4\uC790\uAC00 \uC774\uD574\uD558\uAE30 \uC27D\uB3C4\uB85D 500-1000\uB2E8\uC5B4\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694.
\uC74C\uC131\uC73C\uB85C \uB4E3\uAE30\uC5D0 \uC801\uD569\uD55C \uD615\uD0DC\uB85C \uC791\uC131\uD558\uB418, \uB2E4\uC74C \uC694\uC18C\uB97C \uD3EC\uD568\uD574\uC8FC\uC138\uC694:

1. \uC601\uC0C1\uC758 \uC8FC\uC81C\uC640 \uC804\uCCB4\uC801\uC778 \uB0B4\uC6A9 \uC18C\uAC1C
2. \uD575\uC2EC \uD559\uC2B5 \uB0B4\uC6A9\uC744 3-5\uAC1C \uD3EC\uC778\uD2B8\uB85C \uC815\uB9AC
3. \uC2E4\uC2B5\uC774\uB098 \uC608\uC81C\uAC00 \uC788\uB2E4\uBA74 \uAC04\uB2E8\uD788 \uC124\uBA85
4. \uC774 \uB0B4\uC6A9\uC744 \uD559\uC2B5\uD558\uBA74 \uBB34\uC5C7\uC744 \uD560 \uC218 \uC788\uB294\uC9C0 \uC124\uBA85

\uC8FC\uC758\uC0AC\uD56D:
- \uB9C8\uD06C\uB2E4\uC6B4 \uBB38\uBC95 \uC81C\uAC70
- \uD0C0\uC784\uC2A4\uD0EC\uD504\uB098 URL\uC740 \uC0DD\uB7B5
- \uAD6C\uC5B4\uCCB4\uB85C \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uC791\uC131
- \uD559\uC2B5 \uC21C\uC11C\uB97C \uB17C\uB9AC\uC801\uC73C\uB85C \uC7AC\uAD6C\uC131

\uC6D0\uBB38:
${e}`;break;case"\uD68C\uACE0":s=`\uB2E4\uC74C \uD68C\uACE0 \uB178\uD2B8\uB97C \uCD08\uBCF4\uC790\uAC00 \uC774\uD574\uD558\uAE30 \uC27D\uB3C4\uB85D 500-1000\uB2E8\uC5B4\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694.
\uC74C\uC131\uC73C\uB85C \uB4E3\uAE30\uC5D0 \uC801\uD569\uD55C \uD615\uD0DC\uB85C \uC791\uC131\uD558\uB418, \uB2E4\uC74C \uC694\uC18C\uB97C \uD3EC\uD568\uD574\uC8FC\uC138\uC694:

1. \uD68C\uACE0\uC758 \uC8FC\uC694 \uC8FC\uC81C\uC640 \uBC30\uACBD
2. \uD575\uC2EC \uBC1C\uACAC\uC0AC\uD56D 3-5\uAC1C \uD3EC\uC778\uD2B8
3. \uC911\uC694\uD55C \uC778\uC0AC\uC774\uD2B8\uB098 \uAD50\uD6C8
4. \uC2E4\uBB34 \uC801\uC6A9 \uACC4\uD68D\uC774\uB098 \uB2E4\uC74C \uC561\uC158

\uC8FC\uC758\uC0AC\uD56D:
- \uB9C8\uD06C\uB2E4\uC6B4 \uBB38\uBC95 \uC81C\uAC70
- \uAD6C\uC5B4\uCCB4\uB85C \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uC791\uC131
- \uAC1C\uC778\uC801\uC778 \uD1B5\uCC30\uC744 \uC911\uC2EC\uC73C\uB85C \uC815\uB9AC
- \uAE0D\uC815\uC801\uC774\uACE0 \uAC74\uC124\uC801\uC778 \uD1A4 \uC720\uC9C0

\uC6D0\uBB38:
${e}`;break;default:s=`\uB2E4\uC74C \uBB38\uC11C\uB97C \uCD08\uBCF4\uC790\uAC00 \uC774\uD574\uD558\uAE30 \uC27D\uB3C4\uB85D 500-1000\uB2E8\uC5B4\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694.
\uC74C\uC131\uC73C\uB85C \uB4E3\uAE30\uC5D0 \uC801\uD569\uD55C \uD615\uD0DC\uB85C \uC791\uC131\uD574\uC8FC\uC138\uC694:

1. \uBB38\uC11C\uC758 \uC8FC\uC81C\uC640 \uBAA9\uC801
2. \uD575\uC2EC \uB0B4\uC6A9\uC744 3-5\uAC1C \uD3EC\uC778\uD2B8\uB85C \uC815\uB9AC
3. \uC911\uC694\uD55C \uAC1C\uB150\uC774\uB098 \uC6A9\uC5B4 \uC124\uBA85
4. \uC2E4\uC6A9\uC801\uC778 \uD65C\uC6A9 \uBC29\uBC95

\uC8FC\uC758\uC0AC\uD56D:
- \uB9C8\uD06C\uB2E4\uC6B4 \uBB38\uBC95 \uC81C\uAC70
- \uAD6C\uC5B4\uCCB4\uB85C \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uC791\uC131
- \uD55C\uAD6D\uC5B4\uB85C \uC791\uC131

\uC6D0\uBB38:
${e}`}return{systemPrompt:i,userPrompt:s}}async generateAudio(e,t){let s=await new P({apiKey:this.settings.elevenlabs.apiKey,voiceId:this.settings.elevenlabs.voiceId,model:this.settings.elevenlabs.model,outputFormat:this.settings.elevenlabs.outputFormat}).textToSpeech(e),o=`${t.basename}.mp3`,a="Audio",p=`${a}/${o}`;this.app.vault.getAbstractFileByPath(a)||await this.app.vault.createFolder(a);let l=this.app.vault.getAbstractFileByPath(p);return l&&await this.app.vault.delete(l),await this.app.vault.createBinary(p,s),p}};
